#  CSS 定位

## 学习目标

- 能够说出为什么需要定位
- 能够说出常用3种定位各自的特点
- 能够利用定位属性实现轮播图案例

盒模型： 设置自己布局属性，同层

浮动: 并排



## 定位的作用

普通文档流中块元素垂直排列，行内元素水平排列。
浮动可以实现多个块级盒子在一行无缝排列显示
定位能够让我们把一个元素从它原本在正常布局流中应该在的位置移动到另一个位置（自由的在某个盒子内移动位置或者固定在屏幕中的某个位置）

==定位  : 压盖，特殊位置==

## 定位的实现

使用定位需要指定一个元素在文档中的定位模式，配合设置【边偏移量】决定元素最终的显示及位置

定位模式通过position属性来设置，以下为常用四种定位模式静态定位，相对对定位，绝对定位，固定定位

边偏移定位元素的位置，使用“top”、“right”、“bottom”和“left”来描述。通常水平位置通过left或right控制，垂直位置通过ttop或bottom控制

- 位置属性

  left：设置距离包含块左侧的距离
  right：设置距离包含块右侧的距离
  top：设置距离包含块顶部的距离
  bottom：设置距离包含块底部的距离

- 取值

  - 长度值：px/em等
  - 百分比：相对于包含块计算
  - auto 默认值
  - 允许使用负值

## 定位模式详解

### postion:relative相对对定位

相对于元素在正常的文档流中的位置移动它，把一个正常布局流中的元素从它的默认位置按坐标进行相对移动。
它原本所占的空间不会改变。

#### 基础特性

- 不脱离文档流
- 提升元素层级
- 不定义偏移量时对元素基本没有影响

#### 应用场景

通常作为定位父级配合绝对定位使用

### postion:absolute绝对定位

没有定位父级时相对于html进行定位，有定位父级时相对于最近的定位父级进行定位

#### 基础特性

-  脱离文档流

- 提升元素层级

####  应用场景：

通常配合绝对定位使用（父相子绝）结合实际案例，如焦点图中的分页，翻页，视频网站中的 vip标签等

### postion:fixed 固定定位

元素的位置相对于浏览器窗口是固定位置。即使窗口是滚动的它也不会移动：

#### 基础特性总结

- 脱离文档流
- 提升元素层级

#### 应用场景：

相对于窗口定位的元素如弹窗、跟随滚动的导航、侧边栏

###  postion:static静态定位

表示“将元素放在文档布局流的默认位置，HTML 元素的默认值，即没有定位，遵循正常的文档流对象。

- 常用于重置 定位属性
- 静态定位的元素不会受到 top, bottom, left, right影响。

## 定位元素的层级顺序

元素的定位与文档流无关，所以它们可以覆盖页面上的其它元素
z-index属性指定了一个元素的堆叠顺序（哪个元素应该放在前面，或后面）

<img src="定位的层级图例.jpg" style="zoom:50%;" />

- 取值

  - auto(默认值) 堆叠顺序与父元素相等
  - 数值：拥有更高堆叠顺序（数值越大）的元素总是会处于堆叠顺序较低的元素的前面。

- 总结

  - 提示：从父原则
  
  - 注意:
  
    1. HTML结构越靠下  层次值 (层级)也就越大 z-index属性值越大 越靠前显示
  
    2. 我们修改z-index值 设置元素压盖顺序
  
    3. 标准流盒子不谈层级 但是默认z-index:0
  
       4. 随父特性
  
    5. 相对定位也有层级 当两个元素是兄弟关系的时候 哥哥相对定位可以压盖绝对定位的弟弟
  
    ​      当两个元素是父子嵌套关系的时候 相对定位没有层级 z-index写多大都没用
  
  - 



## 实现盒子居中的方法（必须知道定位元素的宽高属性值）

### 方法一：

- 实现思路：margin负值配合百分比

  ```css
             position: absolute/fixed;
              left: 50%;
              top: 50%; 
              margin-left: -width/2px;
              margin-top: -height/2 
  ```

  


### 方法二：

- 实现思路：left,right,top,bottom并用，配合margin：auto;

  ```
  如果元素的四个边的位置是使用“top”、“right”、“bottom”和“left”来描述的，那么元素的“height”和“width”将隐式地由偏移量决定。
  如果包含块是块级，则相对于包含块的边界即（包括padding）,如果包含块是行级，则相对于包含块的内容区域 
  ```

- 注意：ie低版本不兼容 

```css
           position: absolute/fixed;
            left: 0px;
            right: 0px;
            bottom: 0px;
            top: 0px;
            margin: auto;
```

## 定位知识点总结

| 定位类型 | 是否发生位置变化 | 是否脱离标准 | 定位值                                                       | 参考对象          |
| -------- | ---------------- | ------------ | ------------------------------------------------------------ | ----------------- |
| static   | -                | -            | -                                                            | -                 |
| relative | yes              | no           | left,right,bottom,top                                        | 自身位置          |
| absolute | yes              | yes          | +left 右走-left左 -top上 +top下 -right 右+right左 +bottom上  -bottom下 | 初始body 子绝父相 |
| fixed    | yes              | yes          | +left 右走-left左 -top上 +top下 -right 右+right左 +bottom上  -bottom下 | 浏览器窗口可视区  |



## 定位对元素的影响

一个元素加了定位和浮动以后都会变成是一个密闭的独立的块区域，宽高取决于内容。

## 定位与浮动的区别对比

- 不同点：浮动脱离文档流，不脱离文本流，定位元素既脱离文档流，又脱离文本流
- 相同点：宽高默认由内容撑开，生成块级框（可以设置width和height及所有盒模型属性等）

# CSS 透明

## 学习目标

- 掌握透明常用属性
- 了解透明属性的兼容 
- 能够实现背景透明内容不透明页面效果

### rgba()

- 语法：
  rgba(r,g,b,a)，
  说明：r表示red,g表示green,b表示blue,a表示alpha透明度
- 取值:
  r,g,b取值范围 0-255
  a透明度，取值0-1
- 使用说明：设置颜色的不透明度，
  一般用于调整background-color、color、box-shadow等的不透明度。
- 兼容性：IE6、7、8【不支持】，IE9及以上版本和标准浏览器都支持

### opacity

- 语法：
  opacity:0.5:
- 取值：0-1，
  0表示全透明，1表示全不透明，0-1之间表示半透明
- 使用说明：设置opacity元素的所有后代元素会随着一起具有透明性，
  一般用于调整图片或者模块的整体不透明度
- 兼容性：IE6、7、8【不支持】，IE9及以上版本和标准浏览器都支持

### IE专属滤镜

- 语法： 
  filter:Alpha(opacity=x) 
- 取值：x取值0-100
- 代码演示
- 兼容性：仅支持IE6、7、8、9，在IE10版本被废除
- 注意：在IE6、7、8中，设置了filter:Alpha的元素，其子元素为【相对定位】，可让子元素不透明
  

# CSS块级格式化

## 学习目标

- 能够说出什么是BFC
- 什么条件下生成BFC
- BFC解决的问题有哪些

## 概念

BFC(Block Formatting Context)是Web页面中盒模型布局的CSS渲染模式——直译为"块级格式化上下文"。它是一个独立的渲染区域，只有Block-level box参与， 它规定了内部的Block-level Box如何布局，并且与这个区域外部毫不相干。==BFC盒子 ，那么这个盒子内部不影响外部，外部不影响内部 ，这个盒子是密闭的独立的区域！！==

## 生成BFC的条件

- w3c规范中的BFC定义：浮动元素和绝对定位元素，非块级盒子的块级容器（例如 inline-blocks, table-cells, 和 table-captions），以及overflow值不为“visiable”的块级盒子，都会为他们的内容创建新的BFC（块级格式上下文），简单来说就是:BFC就是页面上的一个隔离的独立容器，容器里面的子元素不会影响到外面的元素。反之也如此

  根元素
  float属性不为none
  position为absolute或fixed
  overflow不为visible

## BFC渲染规则（特性）

- 内部的Box会在垂直方向，一个接一个地放置
  Box垂直方向的距离由margin决定。属于同一个BFC的两个相邻Box的margin会发生重叠(塌陷)
- 每个元素的margin box的左边， 与包含块border box的左边相接触(对于从左往右的格式化，否则相反)。即使存在浮动也是如此
- BFC的区域不会与浮动区域重叠。
- 计算BFC盒子的高度时，它内部的浮动子元素也会参与高度计算

## BFC解决的问题

- 清除浮动
- 解决外边距塌陷
- 避免文字环绕
- 自适应两栏布局